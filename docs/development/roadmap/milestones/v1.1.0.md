# Milestone: v1.1.0 - Quality & API

Quality metrics and REST API integrations.

## Goal

Provide objective quality measurement for personas and expose capabilities via REST API.

## Theme

**"Measure & Connect"** - Quality assurance and programmatic access.

## Features Completed (1)

| ID | Feature | Category |
|----|---------|----------|
| [F-106](../features/completed/F-106-quality-metrics.md) | Quality metrics scoring | Quality |

## Features Planned (5)

| ID | Feature | Category |
|----|---------|----------|
| [F-088](../features/planned/F-088-async-support.md) | Async support | Core |
| [F-089](../features/planned/F-089-rest-api.md) | REST API (FastAPI-based) | API |
| [F-090](../features/planned/F-090-webhooks.md) | Webhooks for long-running operations | API |
| [F-104](../features/planned/F-104-conversation-scripts.md) | Conversation scripts | Output |
| [F-105](../features/planned/F-105-python-sdk.md) | Python SDK | SDK |

## Success Criteria

- [ ] REST API running with `persona serve`
- [ ] OpenAPI documentation auto-generated
- [ ] Webhook callbacks working for async operations
- [ ] API key authentication implemented
- [ ] VS Code extension published
- [ ] Test coverage ≥ 80%

## API Design

### REST Endpoints

```
POST /api/v1/generate          # Generate personas
GET  /api/v1/experiments       # List experiments
GET  /api/v1/experiments/:id   # Get experiment details
GET  /api/v1/personas/:id      # Get persona details
POST /api/v1/scripts           # Generate conversation scripts
GET  /api/v1/health            # Health check
```

### Authentication

```bash
# API Key header
curl -H "Authorization: Bearer <api-key>" \
     http://localhost:8000/api/v1/generate
```

### Webhooks

```json
{
  "event": "generation.completed",
  "experiment_id": "exp_123",
  "personas": [
    {"id": "persona_001", "name": "Alex Chen"}
  ],
  "timestamp": "2024-12-15T14:30:22Z"
}
```

## Optional Dependency

```bash
# Install with API support
pip install persona[api]

# Start server
persona serve --port 8000
```

## Dependencies

- v1.0.0: Production ready (required)
- F-105: Python SDK (API wraps SDK)
- F-088: Async support (for concurrent requests)

---

## Related Documentation

- [Milestones Overview](README.md)
- [v1.0.0: Production Ready](v1.0.0.md) (prerequisite)
- [F-106: Quality Metrics](../features/completed/F-106-quality-metrics.md) ✅
- [F-088: Async Support](../features/planned/F-088-async-support.md)
- [F-089: REST API](../features/planned/F-089-rest-api.md)
- [F-090: Webhooks](../features/planned/F-090-webhooks.md)
- [F-104: Conversation Scripts](../features/planned/F-104-conversation-scripts.md)
- [F-105: Python SDK](../features/planned/F-105-python-sdk.md)
- [ADR-0021: Programmatic API](../../decisions/adrs/ADR-0021-programmatic-api.md)

---

**Status**: In Progress (1 of 6 features complete)

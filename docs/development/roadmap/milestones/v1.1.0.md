# Milestone: v1.1.0 - Quality & API

Quality metrics, REST API, and programmatic SDK access.

## Goal

Provide objective quality measurement for personas, expose capabilities via REST API, and enable programmatic access through Python SDK.

## Theme

**"Measure & Connect"** - Quality assurance and programmatic access.

## Features (6 of 6 Complete ✅)

| ID | Feature | Category | Status |
|----|---------|----------|--------|
| [F-088](../features/completed/F-088-async-support.md) | Async support | Core | ✅ |
| [F-089](../features/completed/F-089-rest-api.md) | REST API (FastAPI-based) | API | ✅ |
| [F-090](../features/completed/F-090-webhooks.md) | Webhooks for long-running operations | API | ✅ |
| [F-104](../features/completed/F-104-conversation-scripts.md) | Conversation scripts | Output | ✅ |
| [F-105](../features/completed/F-105-python-sdk.md) | Python SDK | SDK | ✅ |
| [F-106](../features/completed/F-106-quality-metrics.md) | Quality metrics scoring | Quality | ✅ |

## Success Criteria

- [x] REST API running with `persona serve`
- [x] OpenAPI documentation auto-generated at `/docs`
- [x] Webhook callbacks working for async operations
- [x] X-API-Key authentication implemented
- [x] Python SDK with `PersonaClient` class
- [x] Async support in all providers
- [x] Quality metrics scoring system
- [x] Test coverage ≥ 80%

## API Design

### REST Endpoints

```
POST /api/v1/generate          # Start persona generation job
GET  /api/v1/generate/{id}     # Get job status
POST /api/v1/webhooks          # Register webhook
GET  /api/v1/webhooks          # List webhooks
DELETE /api/v1/webhooks/{id}   # Remove webhook
GET  /api/v1/health            # Health check
```

### Authentication

```bash
# X-API-Key header
curl -H "X-API-Key: <token>" \
     http://localhost:8000/api/v1/generate
```

### Webhooks

```json
{
  "event": "generation.completed",
  "job_id": "job_123",
  "timestamp": "2024-12-15T14:30:22Z",
  "signature": "sha256=..."
}
```

## Installation

```bash
# Install with API support
pip install persona[api]

# Start server
persona serve --port 8000

# Or with authentication
persona serve --auth-token my-secret-token
```

## Dependencies

- v1.0.0: Production ready (required)

---

## Related Documentation

- [Milestones Overview](README.md)
- [v1.0.0: Production Ready](v1.0.0.md) (prerequisite)
- [v1.2.0: Extensibility & TUI](v1.2.0.md) (next)
- [F-088: Async Support](../features/completed/F-088-async-support.md)
- [F-089: REST API](../features/completed/F-089-rest-api.md)
- [F-090: Webhooks](../features/completed/F-090-webhooks.md)
- [F-104: Conversation Scripts](../features/completed/F-104-conversation-scripts.md)
- [F-105: Python SDK](../features/completed/F-105-python-sdk.md)
- [F-106: Quality Metrics](../features/completed/F-106-quality-metrics.md)
- [ADR-0021: Programmatic API](../../decisions/adrs/ADR-0021-programmatic-api.md)

---

**Status**: ✅ Complete

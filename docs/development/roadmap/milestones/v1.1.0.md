# Milestone: v1.1.0 - API & Integrations

REST API and external integrations.

## Goal

Expose Persona capabilities via REST API and enable integrations with external tools and workflows.

## Theme

**"Connect Everything"** - Programmatic access and integrations.

## Features Included (4)

| ID | Feature | Category |
|----|---------|----------|
| F-089 | REST API (FastAPI-based) | API |
| F-090 | Webhooks for long-running operations | API |
| F-096 | GraphQL API (optional) | API |
| F-097 | VS Code Extension | Integration |

## Success Criteria

- [ ] REST API running with `persona serve`
- [ ] OpenAPI documentation auto-generated
- [ ] Webhook callbacks working for async operations
- [ ] API key authentication implemented
- [ ] VS Code extension published
- [ ] Test coverage â‰¥ 80%

## API Design

### REST Endpoints

```
POST /api/v1/generate          # Generate personas
GET  /api/v1/experiments       # List experiments
GET  /api/v1/experiments/:id   # Get experiment details
GET  /api/v1/personas/:id      # Get persona details
POST /api/v1/scripts           # Generate conversation scripts
GET  /api/v1/health            # Health check
```

### Authentication

```bash
# API Key header
curl -H "Authorization: Bearer <api-key>" \
     http://localhost:8000/api/v1/generate
```

### Webhooks

```json
{
  "event": "generation.completed",
  "experiment_id": "exp_123",
  "personas": [
    {"id": "persona_001", "name": "Alex Chen"}
  ],
  "timestamp": "2024-12-15T14:30:22Z"
}
```

## Optional Dependency

```bash
# Install with API support
pip install persona[api]

# Start server
persona serve --port 8000
```

## Dependencies

- v1.0.0: Production ready (required)
- F-087: Python SDK (API wraps SDK)
- F-088: Async support (for concurrent requests)

---

## Related Documentation

- [Milestones Overview](README.md)
- [v1.0.0: Production Ready](v1.0.0.md) (prerequisite)
- [F-089: REST API](../features/planned/F-089-rest-api.md)
- [F-090: Webhooks](../features/planned/F-090-webhooks.md)
- [ADR-0021: Programmatic API](../../decisions/adrs/ADR-0021-programmatic-api.md)

---

**Status**: Planned

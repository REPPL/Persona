# Manual Test Script: TUI Dashboard (F-098 to F-103)

This script verifies the TUI dashboard functionality. Execute tests in order and record results.

## Prerequisites

- Python 3.12+
- Persona installed with `pip install -e ".[all,tui]"`
- Terminal with minimum 80x24 size

## Setup

```bash
# 1. Activate virtual environment
source .venv-test/bin/activate  # On Windows: .venv-test\Scripts\activate

# 2. Install TUI dependencies
pip install "textual>=0.87.0"

# 3. Verify installation
persona --version
```

**Expected:** Shows Persona version

---

## Test 1: TUI Module Import

**Command:**
```python
from persona.tui import PersonaApp
from persona.tui.screens import DashboardScreen
from persona.tui.widgets import ExperimentList, PersonaCard

print("TUI imports successful")
```

**Expected:** All TUI modules importable

**Pass Criteria:**
- [ ] PersonaApp importable
- [ ] Screens importable
- [ ] Widgets importable
- [ ] No import errors

---

## Test 2: Dashboard CLI Command

**Command:**
```bash
persona dashboard --help
```

**Expected:** Shows help for dashboard command

**Pass Criteria:**
- [ ] Command exists
- [ ] Help text displays
- [ ] --no-mouse flag documented
- [ ] --theme flag documented

---

## Test 3: Terminal Size Validation

**Command:**
```bash
# Resize terminal to 60x20 (below minimum)
# Then run:
persona dashboard

# Should show error about minimum size
```

**Expected:** Error message about terminal size

**Pass Criteria:**
- [ ] Minimum 80x24 required
- [ ] Clear error message shown
- [ ] Suggests resizing terminal

---

## Test 4: Dashboard Launch

**Command:**
```bash
# Ensure terminal is at least 80x24
persona dashboard
```

**Expected:** Dashboard launches in full-screen mode

**Pass Criteria:**
- [ ] Full-screen TUI displays
- [ ] Header with title visible
- [ ] Footer with shortcuts visible
- [ ] No crash on launch

---

## Test 5: Keyboard Navigation

**In the running dashboard, test:**

| Key | Expected Action |
|-----|-----------------|
| `?` | Help overlay appears |
| `q` | Quit confirmation or exit |
| `↑`/`↓` | Navigate experiment list |
| `Enter` | Select item |
| `Tab` | Move to next panel |
| `Shift+Tab` | Move to previous panel |
| `Esc` | Close overlay/go back |

**Pass Criteria:**
- [ ] All keybindings work
- [ ] Focus indicator visible
- [ ] Help overlay shows all shortcuts

---

## Test 6: Mouse Support

**In the running dashboard, test:**

- [ ] Click on experiment list items
- [ ] Click on buttons
- [ ] Scroll with mouse wheel
- [ ] Hover effects (if any)

**Pass Criteria:**
- [ ] Mouse clicks register
- [ ] Scrolling works
- [ ] Buttons respond to clicks

---

## Test 7: Experiment Browser (F-100)

**Command:**
```bash
# First create some experiments
persona generate examples/sample_data.csv --count 3 --output /tmp/exp1
persona generate examples/sample_data.csv --count 2 --output /tmp/exp2

# Then launch dashboard
persona dashboard
```

**Expected:** Experiment list shows created experiments

**Pass Criteria:**
- [ ] Experiments listed
- [ ] Status icons shown (✓, ⏳, etc.)
- [ ] Selection highlights
- [ ] Details update on selection

---

## Test 8: Persona Viewer (F-101)

**In the dashboard:**
1. Select an experiment
2. Navigate to persona list
3. Select a persona

**Expected:** Full persona details displayed

**Pass Criteria:**
- [ ] Name and demographics shown
- [ ] Goals displayed
- [ ] Frustrations displayed
- [ ] Quality badge (if scored)
- [ ] Navigation between personas

---

## Test 9: Cost Tracker Widget (F-102)

**In the dashboard:**
1. Look for cost tracker widget
2. Start a generation (if possible)

**Expected:** Cost information displayed

**Pass Criteria:**
- [ ] Total cost shown
- [ ] Cost breakdown available
- [ ] Updates in real-time

---

## Test 10: Responsive Layout (F-103)

**Test different terminal sizes:**

| Size | Expected Layout |
|------|-----------------|
| 80-119 wide | Compact (tabbed) |
| 120-159 wide | Standard (sidebar + main) |
| 160+ wide | Wide (sidebar + main + details) |

**Pass Criteria:**
- [ ] Layout changes on resize
- [ ] Content adapts appropriately
- [ ] No crashes on resize
- [ ] Minimum size enforced

---

## Test 11: Theme Support

**Command:**
```bash
persona dashboard --theme dark
persona dashboard --theme light
```

**Expected:** Theme changes appearance

**Pass Criteria:**
- [ ] Dark theme works
- [ ] Light theme works
- [ ] Colours appropriate
- [ ] Text readable in all themes

---

## Test 12: Documentation

**Command:**
```bash
# Check feature specs exist
ls docs/development/roadmap/features/completed/F-098-tui-dashboard-app.md
ls docs/development/roadmap/features/completed/F-099-realtime-generation-monitor.md
ls docs/development/roadmap/features/completed/F-100-experiment-browser.md
ls docs/development/roadmap/features/completed/F-101-persona-viewer.md
ls docs/development/roadmap/features/completed/F-102-cost-tracker-widget.md
ls docs/development/roadmap/features/completed/F-103-responsive-layout-system.md

# Check guide exists
ls docs/guides/tui-dashboard.md

echo "Exit code: $?"
```

**Expected:** All documentation exists

**Pass Criteria:**
- [ ] All 6 feature specs created
- [ ] TUI guide created
- [ ] Screenshots included
- [ ] Keyboard shortcuts documented

---

## Results Summary

| Test | Status |
|------|--------|
| Test 1: Import | [ ] |
| Test 2: CLI Command | [ ] |
| Test 3: Size Validation | [ ] |
| Test 4: Dashboard Launch | [ ] |
| Test 5: Keyboard Nav | [ ] |
| Test 6: Mouse Support | [ ] |
| Test 7: Experiment Browser | [ ] |
| Test 8: Persona Viewer | [ ] |
| Test 9: Cost Tracker | [ ] |
| Test 10: Responsive Layout | [ ] |
| Test 11: Theme Support | [ ] |
| Test 12: Documentation | [ ] |

**Tested by:** ________________
**Date:** ________________
**Terminal:** ________________ (e.g., iTerm2, Terminal.app, Windows Terminal)
**Terminal Size:** ________________
**Notes:**
